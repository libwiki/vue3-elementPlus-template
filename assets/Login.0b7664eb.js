import{r as v,_ as x,u as y,a as i,o as b,c as S,b as _,d as a,w as l,e as c,p as T,f as V,g as C,t as I,h,i as k}from"./index.76ca5d30.js";const D="card_pc_count_down_data_key";function N(s=D){const n=v({value:0,endTime:0});function d(){try{const e=JSON.parse(localStorage.getItem(s))||{};if(!e.value||!e.endTime||e.endTime<=Date.now())return t(),"\u8BA1\u65F6\u5668\u5DF2\u7ECF\u5230\u671F\u4E86";const o=Math.floor((e.endTime-Date.now())/1e3);if(o<=0)return"\u8BA1\u65F6\u5668\u4E0D\u8DB31s\u4E86";n.endTime=e.endTime,r(o,!1)}catch{}}function t(){r(0,!1)}function r(e,o=!0){if(e&&(n.value=e,o&&(n.endTime=e*1e3+Date.now())),n.value<=0){localStorage.removeItem(s);return}localStorage.setItem(s,JSON.stringify(n)),setTimeout(()=>{n.value--,r()},1e3)}return{start:r,clear:t,recover:d,data:n}}const L=s=>(T("data-v-1778a727"),s=s(),V(),s),B={class:"tw-w-full tw-h-screen row-flex-center"},U={class:"tw-bg-white tw-border tw-py-25 tw-px-25 tw-shadow tw-rounded-5"},H=L(()=>_("div",{class:"tw-text-center tw-text-18 tw-pb-20"},"\u7BA1\u7406\u5458\u767B\u5F55",-1)),J={class:"flex-row tw-items-center"},O={class:"row-flex-center tw-py-25"},$=h(" \u7ACB\u5373\u767B\u5F55 "),z={name:"Login",setup(s){const n=y(),d=N();d.recover();const t=v({phone:"",code:""}),r=async()=>{if(d.data.value>0)return;await n.sendCode(t.phone)&&d.start(60)};return(e,o)=>{const p=i("el-icon"),m=i("el-input"),f=i("el-form-item"),w=i("el-button"),g=i("el-form");return b(),S("div",B,[_("div",U,[H,a(g,{model:t},{default:l(()=>[a(f,{label:""},{default:l(()=>[a(m,{maxlength:"11",type:"tel",placeholder:"\u8BF7\u8F93\u5165\u4EFB\u610F\u7684\u624B\u673A\u53F7",modelValue:t.phone,"onUpdate:modelValue":o[0]||(o[0]=u=>t.phone=u)},{prefix:l(()=>[a(p,null,{default:l(()=>[a(c(C))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(f,{label:""},{default:l(()=>[_("div",J,[a(m,{maxlength:"6",type:"number",placeholder:"\u4EFB\u610F\u7684\u9A8C\u8BC1\u7801",modelValue:t.code,"onUpdate:modelValue":o[1]||(o[1]=u=>t.code=u)},{prefix:l(()=>[a(p,null,{default:l(()=>[a(c(I))]),_:1})]),_:1},8,["modelValue"]),a(w,{disabled:c(d).data.value>0,onClick:r,class:"tw-text-12 tw-ml-10 send-code-btn",type:"primary"},{default:l(()=>[h(k(c(d).data.value>0?`${c(d).data.value}s\u540E\u91CD\u65B0\u83B7\u53D6`:"\u53D1\u9001\u9A8C\u8BC1\u7801"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["model"]),_("div",O,[a(w,{onClick:o[2]||(o[2]=u=>c(n).login(t.phone,t.code)),class:"tw-w-full",size:"large",type:"primary"},{default:l(()=>[$]),_:1})])])])}}};var M=x(z,[["__scopeId","data-v-1778a727"]]);export{M as default};
